<div class="w-full h-screen">
    <div class="">
        <div class="px-4 pb-3 border-b-[1px] border-slate-200">
            <span class="text-2xl font-semibold">Add Subject</span>
        </div>
        <div class="py-2 px-4 flex justify-start items-center gap-2 text-gray-400 antialiased">
            <a routerLink="/" class="hover:font-medium hover:no-underline hover:text-gray-800">
                <i class='bx bx-home mr-2'></i>
                <span>Home</span>
            </a> /
            <span>Subjects</span> /
            <span>Manage Subjects</span>
        </div>
    </div>
    <div class="bg-gray-100 p-4 h-screen">
        <div class="flex justify-center items-center">
            <div class="w-2/3 rounded-md bg-white shadow-sm py-4 px-3">
                <h4 class="text-base leading-6 font-medium">Create Subject</h4>
                <form [formGroup]="addForm" (ngSubmit)="save()">
                    <div class="my-3">
                        <label class="form-label font-medium">Subject Name</label>
                        <input type="text" class="form-control" required aria-describedby="fieldhints"
                            formControlName="subjectname">

                        <div class="text-red-500 bg-red-200 py-2 mt-1 px-3 rounded"
                            *ngIf="this.addForm.controls['subjectname'].touched && this.addForm.controls['subjectname'].invalid">
                            Subject name required!
                        </div>
                    </div>
                    <div class="my-3">
                        <label class="form-label font-medium">Subject Code</label>
                        <input type="text" class="form-control" required aria-describedby="fieldhints"
                            formControlName="code">

                        <div class="text-red-500 bg-red-200 py-2 mt-1 px-3 rounded"
                            *ngIf="this.addForm.controls['code'].touched && this.addForm.controls['code'].invalid">
                            Code name required!
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label font-medium">Select Class</label>
                        <select class="form-select" formControlName="classId">
                            <option [value]="c.id" *ngFor="let c of class$ | async">{{c.classname | uppercase}}</option>
                        </select>

                        <div class="text-red-500 bg-red-200 py-2 mt-1 px-3 rounded"
                            *ngIf="this.addForm.controls['classId'].touched && this.addForm.controls['classId'].invalid">
                            Class name required!
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label font-medium">Select Teacher</label>
                        <select class="form-select" formControlName="userId">
                            <option class="font-medium" [value]="t.id" *ngFor="let t of teachers$ | async">
                                {{t.fullname | uppercase}}
                            </option>
                        </select>

                        <div class="text-red-500 bg-red-200 py-2 mt-1 px-3 rounded"
                            *ngIf="this.addForm.controls['userId'].touched && this.addForm.controls['userId'].invalid">
                            Teacher name required!
                        </div>
                    </div>



                    <div class="mt-4 flex justify-between items-center">
                        <div class="flex gap-3">
                            <button type="submit" [disabled]="!this.addForm.valid"
                                class="btn btn-outline-success px-4 text-sm rounded-sm font-medium">{{this.editMode ?
                                'Update' : 'Save'}}
                            </button>
                            <button (click)="cancel()"
                                class="btn btn-outline-primary px-4 text-sm rounded-sm font-medium">
                                Cancel
                            </button>

                        </div>
                        <button routerLink="/manage-subjects"
                            class="btn btn-outline-primary px-4 text-sm rounded-sm font-medium">Manage
                            Subjects</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>